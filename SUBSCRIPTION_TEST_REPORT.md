# ูุธุงู ุงูุงุดุชุฑุงูุงุช - ุชูุฑูุฑ ุงูุงุฎุชุจุงุฑ ุงูุดุงูู

## โ ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูููุดุฃุฉ:
1. **subscription_requests** - ุฌุฏูู ุทูุจุงุช ุงูุงุดุชุฑุงู
   - โ ุฌููุน ุงูุญููู ููุฌูุฏุฉ ุจุดูู ุตุญูุญ
   - โ ุงูุนูุงูุงุช (Foreign Keys) ุตุญูุญุฉ
   - โ ุงููููุฏ (Constraints) ูุทุจูุฉ ููููู ุงูุตุญูุญุฉ
   - โ ุงูููุงุฑุณ (Indexes) ููุฃุฏุงุก ููุฌูุฏุฉ

2. **stores** - ุชุญุฏูุซ ุฌุฏูู ุงููุชุงุฌุฑ
   - โ ุญูู `plan` ููุจุงูุฉ
   - โ ุญูู `plan_expires_at` ูุชุงุฑูุฎ ุงูุชูุงุก ุงูุจุงูุฉ
   - โ ุญูู `product_limit` ูุญุฏ ุงูููุชุฌุงุช

### ุณูุงุณุงุช RLS (Row Level Security):
โ **subscription_requests**:
- ุงูุชุฌุงุฑ ูููููู ุนุฑุถ ุทูุจุงุชูู ููุท
- ุงูุชุฌุงุฑ ูููููู ุฅูุดุงุก ุทูุจุงุช ุฌุฏูุฏุฉ
- ุงูุชุฌุงุฑ ูููููู ุชุญุฏูุซ ุทูุจุงุชูู ุงููุนููุฉ
- ุงูุฃุฏูู ููููู ุนุฑุถ ูุชุญุฏูุซ ุฌููุน ุงูุทูุจุงุช

โ **stores**:
- ุงููููุฏ ุชุถูู ุงูููู ุงูุตุญูุญุฉ ููุจุงูุงุช (free, premium, business)

---

## โ ุงูุตูุญุงุช ูุงููุณุงุฑุงุช

### 1. ุตูุญุฉ ุงูุงุดุชุฑุงู (`/merchant/subscribe`)
โ **ุงููุธุงุฆู**:
- ุนุฑุถ ุชูุงุตูู ุงูุจุงูุฉ ุงููุฎุชุงุฑุฉ
- ุงุฎุชูุงุฑ ูุฏุฉ ุงูุงุดุชุฑุงู (ุดูุฑุ 3 ุฃุดูุฑุ ุณูุฉ)
- ุญุณุงุจ ุงูุณุนุฑ ุชููุงุฆููุง ูุน ุงูุฎุตููุงุช
- ุนุฑุถ ูุนูููุงุช ุงูุชุญููู ุงูุจููู
- ุฑูุน ุฅุซุจุงุช ุงูุฏูุน (ุตูุฑุฉ ุฃู PDF)
- ุงูุชุญูู ูู ุงููุณุชุฎุฏู ุงููุณุฌู
- ุงูุญูุงูุฉ: ูุญููุฉ - ุชุชุทูุจ ุชุณุฌูู ุฏุฎูู

โ **ุงูุชุญูู ูู ุงูุฃูุงู**:
- ุงูุชุญูู ูู ุญุฌู ุงูููู (ุญุฏ ุฃูุตู 5MB)
- ุงูุชุญูู ูู ููุน ุงูููู (ุตูุฑ ุฃู PDF)
- ููุน ุงูุงุดุชุฑุงู ุจุฏูู ุฅุซุจุงุช ุฏูุน

### 2. ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช ููุฃุฏูู (`/admin/subscriptions`)
โ **ุงููุธุงุฆู**:
- ุนุฑุถ ุฌููุน ุทูุจุงุช ุงูุงุดุชุฑุงู
- ุฅุญุตุงุฆูุงุช ูู ุงูููุช ุงููุนูู
- ูุนุงููุฉ ุฅุซุจุงุช ุงูุฏูุน
- ูุจูู ุฃู ุฑูุถ ุงูุทูุจุงุช
- ุฅุถุงูุฉ ููุงุญุธุงุช ููุชุงุฌุฑ
- ุชูุนูู ุงูุจุงูุฉ ุชููุงุฆููุง ุนูุฏ ุงููุจูู

โ **Logic ุงูุชูุนูู**:
1. ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู "ููุจูู"
2. ุญุณุงุจ ุชุงุฑูุฎ ุงูุชูุงุก ุงูุงุดุชุฑุงู
3. ุงูุจุญุซ ุนู ูุชุฌุฑ ุงูุชุงุฌุฑ
4. ุชุญุฏูุซ ุจุงูุฉ ุงููุชุฌุฑ
5. ุชุญุฏูุฏ ุญุฏ ุงูููุชุฌุงุช ุญุณุจ ุงูุจุงูุฉ
6. ุฅูุดุงุก ุณุฌู ุงุดุชุฑุงู ูุดุท

### 3. ุตูุญุฉ ุงูุฎุทุท (`/plans`)
โ **ุงูุฑุจุท**:
- ุฃุฒุฑุงุฑ "ุงุดุชุฑู ุงูุขู" ูุฑุจูุทุฉ ุจุตูุญุฉ ุงูุงุดุชุฑุงู
- ุชูุฑูุฑ ููุน ุงูุจุงูุฉ ูู URL

---

## โ ุงูููููุงุช ุงูุฅุถุงููุฉ

### SubscriptionAlert Component
โ **ุงููุธุงุฆู**:
- ุงูุชุญูู ูู ุญุงูุฉ ุงุดุชุฑุงู ุงูุชุงุฌุฑ
- ุนุฑุถ ุชูุจูู ุนูุฏ ุงูุชุฑุงุจ ุงูุชูุงุก ุงูุงุดุชุฑุงู (7 ุฃูุงู)
- ุนุฑุถ ุชูุจูู ุนูุฏ ุงูุชูุงุก ุงูุงุดุชุฑุงู
- ุฒุฑ ูุจุงุดุฑ ููุชุฌุฏูุฏ

โ **ุงูุชูุงูู**:
- ูุถุงู ูู ุตูุญุฉ ููุญุฉ ุชุญูู ุงูุชุงุฌุฑ (`/merchant`)

---

## โ ุณูุฑ ุงูุนูู ุงููุงูู (User Flow)

### ููุชุงุฌุฑ:
1. โ ุฒูุงุฑุฉ ุตูุญุฉ ุงูุฎุทุท (`/plans`)
2. โ ุงุฎุชูุงุฑ ุจุงูุฉ ูุงูุถุบุท ุนูู "ุงุดุชุฑู ุงูุขู"
3. โ ุงูุงูุชูุงู ูุตูุญุฉ ุงูุงุดุชุฑุงู ูุน ุชูุงุตูู ุงูุจุงูุฉ
4. โ ุงุฎุชูุงุฑ ูุฏุฉ ุงูุงุดุชุฑุงู
5. โ ุฑุคูุฉ ุงูุณุนุฑ ุงูููุงุฆู ูุน ุงูุฎุตููุงุช
6. โ ุฑุคูุฉ ูุนูููุงุช ุงูุชุญููู ุงูุจููู
7. โ ุฑูุน ุฅุซุจุงุช ุงูุฏูุน
8. โ ุฅุฑุณุงู ุงูุทูุจ
9. โ ุงูุชุธุงุฑ ูุฑุงุฌุนุฉ ุงูุฃุฏูู
10. โ ุงุณุชูุงู ุฅุดุนุงุฑ ุจุงูุชูุนูู

### ููุฃุฏูู:
1. โ ุงูุฏุฎูู ูุตูุญุฉ ุงูุงุดุชุฑุงูุงุช (`/admin/subscriptions`)
2. โ ุฑุคูุฉ ุงูุฅุญุตุงุฆูุงุช ุงูููุฑูุฉ
3. โ ุฑุคูุฉ ูุงุฆูุฉ ุงูุทูุจุงุช
4. โ ุงูุถุบุท ุนูู "ุนุฑุถ" ููุทูุจ
5. โ ูุนุงููุฉ ุฅุซุจุงุช ุงูุฏูุน
6. โ ุฅุถุงูุฉ ููุงุญุธุงุช (ุงุฎุชูุงุฑู)
7. โ ูุจูู ุฃู ุฑูุถ ุงูุทูุจ
8. โ ุชูุนูู ุชููุงุฆู ููุจุงูุฉ ุนูุฏ ุงููุจูู

---

## โ ุงูุฃูุงู ูุงูุชุญุณููุงุช

### ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- โ ุงููููุฏ (Constraints) ูุถูุงู ููู ุตุญูุญุฉ
- โ ุงูููุงุฑุณ (Indexes) ูุชุญุณูู ุงูุฃุฏุงุก
- โ RLS Policies ูุญููุฉ
- โ ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ูู ูู ุนูููุฉ

### Frontend:
- โ ุงูุชุญูู ูู ุญุฌู ุงููููุงุช
- โ ุงูุชุญูู ูู ููุน ุงููููุงุช
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ
- โ ุญูุงูุฉ ุงูุตูุญุงุช ุจุงููุตุงุฏูุฉ

### Storage:
- โ ุฑูุน ุฅุซุจุงุช ุงูุฏูุน ูู `store-documents` bucket
- โ ุชูุธูู ุงููููุงุช ูู ูุฌูุฏ `payment-proofs`

---

## โ ุงูุชุญุณููุงุช ุงููุถุงูุฉ

1. **ุชูุจููุงุช ุงูุงุดุชุฑุงู**: ูุชููู ุงูุชุงุฌุฑ ุชูุจููุงุช ูุจู ุงูุชูุงุก ุงูุงุดุชุฑุงู
2. **ุงูุฎุตููุงุช**: ุฎุตููุงุช ุชููุงุฆูุฉ ููุงุดุชุฑุงูุงุช ุงูุทูููุฉ
3. **ุงูุฅุญุตุงุฆูุงุช**: ุฅุญุตุงุฆูุงุช ููุฑูุฉ ููุฃุฏูู
4. **ุงูุชูุนูู ุงูุชููุงุฆู**: ุชูุนูู ุงูุจุงูุฉ ุชููุงุฆููุง ุนูุฏ ูุจูู ุงูุฃุฏูู
5. **ุญุฏ ุงูููุชุฌุงุช**: ุชุทุจูู ุญุฏ ุงูููุชุฌุงุช ุญุณุจ ุงูุจุงูุฉ
6. **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช**: RLS ูุญูู ููู ุฌุฏูู

---

## ๐ ููุงุญุธุงุช ุฃุฎูุฑุฉ

### ุงูุชุญุฐูุฑ ุงูุฃููู ุงูููุฌูุฏ:
โ๏ธ **Leaked Password Protection Disabled**
- ูุฐุง ุชุญุฐูุฑ ูู Supabase Auth
- ูุง ูุคุซุฑ ุนูู ูุธุงู ุงูุงุดุชุฑุงูุงุช
- ูููู ุชูุนููู ูู ุฅุนุฏุงุฏุงุช Supabase Auth
- ุบูุฑ ุฎุทูุฑ ูู ูุฑุญูุฉ ุงูุชุทููุฑ

### ุงูุงุฎุชุจุงุฑ ุงููุทููุจ:
ูุญุชุงุฌ ุงููุธุงู ูุงุฎุชุจุงุฑ ุนููู:
1. ุฅูุดุงุก ุญุณุงุจ ุชุงุฌุฑ
2. ุฅุฑุณุงู ุทูุจ ุงุดุชุฑุงู
3. ุฑูุน ุฅุซุจุงุช ุฏูุน
4. ูุฑุงุฌุนุฉ ุงูุทูุจ ูู ุงูุฃุฏูู
5. ุงูุชุญูู ูู ุชูุนูู ุงูุจุงูุฉ

---

## โ ุงูุฎูุงุตุฉ

ุงููุธุงู ุฌุงูุฒ ุจุงููุงูู ููุฑุจูุท ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ุงุญุชุฑุงูู:
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุธูุฉ ูุขููุฉ
- โ ุงูุตูุญุงุช ุชุนูู ุจุดูู ุตุญูุญ
- โ ุณูุฑ ุงูุนูู ููุทูู ูุณูุณ
- โ ุงูุชูุงูู ูุน ุงูุฃุฏูู ูุงูู
- โ ุงูุฃูุงู ูุทุจู ุจุดูู ุตุญูุญ
- โ ุงูุชุญุณููุงุช ูุงูุชูุจููุงุช ููุฌูุฏุฉ

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐